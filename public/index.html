<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Added viewport meta tag -->
  <title>Dominoes</title>
  <link rel="stylesheet" href="/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
  <div id="game">
    <h1 class="game-title">Dominoes</h1>
    <div id="joinSection">
      <input id="playerName" type="text" placeholder="Enter your name">
      <select id="playerCount">
        <option value="2">2 Players</option>
        <option value="3">3 Players</option>
        <option value="4">4 Players</option>
      </select>
      <button onclick="joinGame()">Join Room</button>
    </div>
    <div id="roomLinkContainer">
      <a id="roomLink" href="#" target="_blank"></a>
      <button id="copyLink" style="display:none;" onclick="copyRoomLink()">Copy Link</button>
    </div>

    <div id="waitingRoom">
      <h3>Waiting Room</h3>
      <p id="waitingMessage">Waiting for players...</p>
      <div id="waitingPlayers"></div>
    </div>

    <div id="gameArea" style="display:none;">
      <div id="players"></div>
      <div id="turnMessage"></div>
      <div id="board"></div>
      <div id="hand"></div>
      <button id="reshuffleButton" style="display:none;" onclick="requestReshuffle()">Reshuffle Tiles</button>
      <div id="boneyard" style="display:none;">
        <h3>Boneyard</h3>
        <div id="boneyardTiles"></div>
        <button id="drawTile" onclick="drawTile()" style="display:none;">Draw Tile</button>
      </div>
      <button id="skipTurn" onclick="skipTurn()" style="display:none;">Skip Turn</button>
      <div id="scores" style="display:none;"></div>
      <div id="roundScoresPopup" style="display:none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 20px; border: 2px solid black; z-index: 1000;">
        <h3>Round Scores</h3>
        <div id="roundScoresContent"></div>
        <button id="startNewMatch" style="margin-top: 10px;">Start New Match</button>
      </div>
      <div id="sideChoiceOverlay" style="display:none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 20px; border: 2px solid black; z-index: 1000;">
        <h3>Choose Side to Play</h3>
        <p id="sideChoiceTile"></p>
        <button id="playLeft" style="margin-right: 10px;">Left</button>
        <button id="playRight" style="margin-right: 10px;">Right</button>
        <button id="cancelChoice">Cancel</button>
      </div>
      <div id="chatSection">
        <h3>Chat</h3>
        <div id="chatMessages"></div>
        <div id="chatInputContainer">
          <input id="chatInput" type="text" placeholder="Waiting for game to start..." disabled>
          <button onclick="sendMessage()" disabled>Send</button>
        </div>
      </div>
    </div>
  </div>
  <footer>
    <p>This game is created by <b>Antu Roy Chowdhury</b> <br>for his loving brothers <i>Amit vai, Isam vai, Siddiq vai, Biddut vai </i>and others.</p>
  </footer>
  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
  <script src="/client.js"></script>
</body>
</html>